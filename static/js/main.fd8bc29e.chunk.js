(this.webpackJsonpemployees=this.webpackJsonpemployees||[]).push([[0],{69:function(e,t,s){},70:function(e,t,s){},73:function(e,t,s){},74:function(e,t,s){"use strict";s.r(t);var c=s(0),n=s.n(c),a=s(15),r=s.n(a),i=s(8),o=s(17),u=s(7),l=s(3),d=s(21),j=s.n(d),h=s(6),b=s(31),O=s(32),f=s(33),p=s.n(f),m=function e(){Object(O.a)(this,e)};m.getUsers=function(){return p.a.get("http://topdevsprojects.org:8081/tasks/users",{headers:{"Content-Type":"application/json"}})};var v=m;var x=function(){return Array.from(Array(26)).map((function(e,t){return t+65})).map((function(e){return String.fromCharCode(e)}))},y=Object(u.c)("users/getusers",Object(b.a)(j.a.mark((function e(){var t,s,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getUsers();case 2:return t=e.sent,s=t.data,c={},x().forEach((function(e,t,n){c[e]=[],s.forEach((function(t){var s=t.firstName[0].toUpperCase();e===s&&c[e].push(Object(h.a)(Object(h.a)({},t),{},{status:"not-active"}))}))})),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})))),g=Object(u.b)("users/changeuserstatus",(function(e,t){return{payload:{user:e,status:t}}})),N=Object(u.d)({users:{},isLoading:!1,error:[],usersBithday:[]},(function(e){e.addCase(y.pending,(function(e,t){e.isLoading=!0})).addCase(y.fulfilled,(function(e,t){e.users=t.payload,e.isLoading=!1})).addCase(y.rejected,(function(e,t){e.isLoading=!1,e.error=t.payload})).addCase(g,(function(e,t){Object.keys(e.users).forEach((function(s){e.users[s].forEach((function(s){s.id===t.payload.user.id&&("active"===t.payload.status?(s.status=t.payload.status,e.usersBithday.push(s)):(s.status=t.payload.status,e.usersBithday=e.usersBithday.filter((function(e){return e.id!==t.payload.user.id}))))}))}))})).addDefaultCase((function(e,t){return e}))})),C=Object(l.b)({usersReducer:N}),E=s(12),k=s(34),w=s.n(k),L=s(16),B={key:"state",storage:w.a},S=Object(L.a)(B,C),D=Object(u.a)({reducer:S,middleware:function(e){return[].concat(Object(o.a)(e({serializableCheck:!1})),[E.a])},devTools:!1}),A=s(19),R=s(2),T=(s(69),s(35)),U=s.n(T),I=(s(70),s(1)),M=function(){return Object(I.jsx)("div",{className:"oveflow",children:Object(I.jsx)("div",{className:"loader",children:Object(I.jsx)(U.a,{type:"spin",color:"#000000",height:80,width:80})})})},F=s(76);var J=function(){return Array.from({length:12},(function(e,t){return new Date(0,t).toLocaleString("en-US",{month:"long"})}))},z=s(36),q=s.n(z),G=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.usersReducer.users})),s=Object(i.c)((function(e){return e.usersReducer.usersBithday})),n=Object(i.c)((function(e){return e.usersReducer.isLoading})),a=Object(c.useMemo)((function(){var e=Object(o.a)(s),t=J(),c=e.sort((function(e,t){return e.lastName.localeCompare(t.lastName)})).sort((function(e,t){return new Date(e.dob).getTime()>new Date(t.dob).getTime()?1:-1})),n={};return t.forEach((function(e,s,a){c.forEach((function(s){var c=new Date(s.dob).getMonth();n[t[c]]&&n[t[c]].length>=0?e===t[c]&&n[t[c]].push(Object(h.a)({},s)):n[t[c]]=[]}))})),n}),[s]);Object(c.useEffect)((function(){return localStorage.getItem("persist:state")||e(y()),localStorage.removeItem("persist:state")}),[e]);var r=function(t,s){e(g(s,t.target.value))};return Object(I.jsxs)("div",{className:"employess-page",children:[Object(I.jsxs)("div",{className:"employess",children:[Object(I.jsx)("div",{className:"title",children:Object(I.jsx)("h2",{children:"Employess"})}),Object(I.jsx)("div",{className:"lists",children:n?Object(I.jsx)(M,{}):t&&Object.keys(t).map((function(e){return Object(I.jsxs)("div",{className:"list",children:[Object(I.jsx)("h2",{children:e}),!t[e].length>0?"No Employees":Object(I.jsx)("ul",{children:t[e].map((function(e){return Object(I.jsxs)("li",{children:[Object(I.jsx)("div",{className:"user ".concat("active"===e.status?"active":""),children:Object(I.jsxs)("h4",{children:[e.firstName," ",e.lastName]})}),Object(I.jsxs)("div",{className:"status",children:[Object(I.jsxs)("div",{className:"radio",children:[Object(I.jsx)("input",{type:"radio",id:"not-active-"+e.id,value:"not-active",checked:"not-active"===e.status,onChange:function(t){return r(t,e)}}),Object(I.jsx)("label",{htmlFor:"not-active-"+e.id,children:"Not active"})]}),Object(I.jsxs)("div",{className:"radio",children:[Object(I.jsx)("input",{type:"radio",id:"active-"+e.id,checked:"active"===e.status,value:"active",onChange:function(t){return r(t,e)}}),Object(I.jsx)("label",{htmlFor:"active-"+e.id,children:"Active"})]})]})]},Object(F.a)())}))})]},Object(F.a)())}))})]}),Object(I.jsxs)("div",{className:"employess-bithday",children:[Object(I.jsx)("div",{className:"title",children:Object(I.jsx)("h2",{children:"Employess Bithday"})}),Object(I.jsx)("div",{className:"lists",children:0===Object.keys(a).length?Object(I.jsx)("h3",{children:"Employees List is empty"}):Object.keys(a).map((function(e){return Object(I.jsxs)("div",{className:"list",children:[Object(I.jsx)("h2",{children:e}),!a[e].length>0?"No Employees":Object(I.jsx)("ul",{children:a[e].map((function(e){return Object(I.jsx)("li",{children:Object(I.jsxs)("h4",{children:[e.firstName," ",e.lastName," -"," ",q()(e.dob).format("LL")]})},Object(F.a)())}))})]},Object(F.a)())}))})]})]})},H=[{path:"/employees",element:Object(I.jsx)(G,{})},{path:"*",element:Object(I.jsx)(R.a,{to:"/employees"})}],K=(s(73),s(37)),P=Object(L.b)(D);var Q=function(){return Object(I.jsx)(i.a,{store:D,children:Object(I.jsx)(K.a,{loading:null,persistor:P,children:Object(I.jsx)(A.a,{children:Object(I.jsx)(R.d,{children:H&&H.map((function(e){return Object(I.jsx)(R.b,{path:e.path,element:e.element},e.path)}))})})})})};r.a.render(Object(I.jsx)(n.a.StrictMode,{children:Object(I.jsx)(Q,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.fd8bc29e.chunk.js.map